#!/bin/bash

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘  Sleep Course: Automated Testing & Comparison Script         â•‘
# â•‘  ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¸ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ iOS vs Web          â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

set -e  # Exit on error

# Ð¦Ð²ÐµÑ‚Ð° Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð°
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

PROJECT_DIR="/Users/vlad/Desktop/ios_sleep/sleep course"
SCREENSHOTS_DIR="$PROJECT_DIR/Screenshots"
XCODE_PROJECT="$PROJECT_DIR/sleep course.xcodeproj"
ODOO_URL="http://localhost:8069"

echo -e "${BLUE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${BLUE}â•‘       ðŸ§ª Sleep Course: Automated Testing                 â•‘${NC}"
echo -e "${BLUE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[1/8]${NC} ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ..."

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Xcode
if ! command -v xcodebuild &> /dev/null; then
    echo -e "  ${RED}âŒ${NC} xcodebuild Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Xcode GUI."
    XCODE_CLI=false
else
    echo -e "  ${GREEN}âœ…${NC} Xcode CLI Ð½Ð°Ð¹Ð´ÐµÐ½"
    XCODE_CLI=true
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Odoo
if curl -s -o /dev/null -w "%{http_code}" "$ODOO_URL/web/login" | grep -q "200"; then
    echo -e "  ${GREEN}âœ…${NC} Odoo Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ ($ODOO_URL)"
else
    echo -e "  ${RED}âŒ${NC} Odoo Ð½Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Odoo."
    exit 1
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Simulator
if pgrep -x "Simulator" > /dev/null; then
    echo -e "  ${GREEN}âœ…${NC} iOS Simulator Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½"
else
    echo -e "  ${YELLOW}â³${NC} Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ Simulator..."
    open -a Simulator
    sleep 5
fi

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Chrome
if pgrep -x "Google Chrome" > /dev/null; then
    echo -e "  ${GREEN}âœ…${NC} Chrome Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½"
else
    echo -e "  ${YELLOW}â³${NC} Ð—Ð°Ð¿ÑƒÑÐºÐ°ÑŽ Chrome..."
    open -a "Google Chrome" "$ODOO_URL/web/login"
    sleep 3
fi

echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 2. Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[2/8]${NC} Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¹ Ð´Ð»Ñ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²..."

mkdir -p "$SCREENSHOTS_DIR/iOS"
mkdir -p "$SCREENSHOTS_DIR/Web"
mkdir -p "$SCREENSHOTS_DIR/Comparison"

echo -e "  ${GREEN}âœ…${NC} Ð”Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 3. Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Ñ€ÑƒÑ‡Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[3/8]${NC} Ð ÑƒÑ‡Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ iOS..."
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}  ðŸ“± Ð˜ÐÐ¡Ð¢Ð Ð£ÐšÐ¦Ð˜Ð˜ Ð”Ð›Ð¯ iOS (Xcode + Simulator)${NC}"
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "  1. Ð’ Xcode: Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ âŒ˜R (Ð¸Ð»Ð¸ Play â–¶ï¸)"
echo "  2. Ð”Ð¾Ð¶Ð´Ð¸Ñ‚ÐµÑÑŒ Ð·Ð°Ð¿ÑƒÑÐºÐ° Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð² Simulator"
echo "  3. ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐºÑ€Ð°Ð½Ñ‹:"
echo ""
echo "     ðŸ“¸ Ð§Ð°Ñ‚:"
echo "        - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð²Ð¾Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ"
echo "        - ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ)"
echo "        - âŒ˜S â†’ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ ÐºÐ°Ðº: iOS/chat_01.png"
echo ""
echo "     ðŸ“¸ Articles:"
echo "        - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ 15 ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐµÐº"
echo "        - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ñ‹"
echo "        - âŒ˜S â†’ iOS/articles_01.png"
echo "        - ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ 'Ð¡Ñ‚Ð°Ñ€Ñ‚ ðŸš€'"
echo "        - âŒ˜S â†’ iOS/article_detail_01.png"
echo ""
echo "     ðŸ“¸ Ritual:"
echo "        - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ 7 ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"
echo "        - âŒ˜S â†’ iOS/ritual_01.png"
echo "        - ÐžÑ‚Ð¼ÐµÑ‚ÑŒÑ‚Ðµ Ð²ÑÐµ"
echo "        - âŒ˜S â†’ iOS/ritual_done_01.png"
echo ""
echo "     ðŸ“¸ Settings:"
echo "        - ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‹"
echo "        - âŒ˜S â†’ iOS/settings_01.png"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
read -p "ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Enter ÐºÐ¾Ð³Ð´Ð° Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚Ðµ Ñ iOS Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼..."
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 4. Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð´Ð»Ñ Web Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[4/8]${NC} Ð ÑƒÑ‡Ð½Ð¾Ðµ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Web..."
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}  ðŸŒ Ð˜ÐÐ¡Ð¢Ð Ð£ÐšÐ¦Ð˜Ð˜ Ð”Ð›Ð¯ WEB (Chrome DevTools)${NC}"
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "  1. Ð’ Chrome:"
echo "     - ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ $ODOO_URL/web/login"
echo "     - Ð—Ð°Ð»Ð¾Ð³Ð¸Ð½ÑŒÑ‚ÐµÑÑŒ: admin / 12345"
echo ""
echo "  2. Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Mobile View:"
echo "     - F12 (DevTools)"
echo "     - âŒ˜â‡§M (Toggle device toolbar)"
echo "     - Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ: iPhone 15"
echo "     - Refresh (âŒ˜R)"
echo ""
echo "  3. ÐŸÑ€Ð¾Ñ‚ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÐºÑ€Ð°Ð½Ñ‹:"
echo ""
echo "     ðŸ“¸ Chat:"
echo "        - Menu â†’ Sleep â†’ Chat"
echo "        - âŒ˜â‡§P â†’ 'Capture screenshot'"
echo "        - Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ: Web/chat_01.png"
echo ""
echo "     ðŸ“¸ Articles:"
echo "        - Menu â†’ Sleep â†’ Articles"
echo "        - Screenshot â†’ Web/articles_01.png"
echo "        - ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ 'Ð¡Ñ‚Ð°Ñ€Ñ‚ ðŸš€'"
echo "        - Screenshot â†’ Web/article_detail_01.png"
echo ""
echo "     ðŸ“¸ Ritual:"
echo "        - Menu â†’ Sleep â†’ Ritual"
echo "        - Screenshot â†’ Web/ritual_01.png"
echo "        - ÐžÑ‚Ð¼ÐµÑ‚ÑŒÑ‚Ðµ Ð²ÑÐµ"
echo "        - Screenshot â†’ Web/ritual_done_01.png"
echo ""
echo "     ðŸ“¸ Settings:"
echo "        - Menu â†’ Sleep â†’ Settings"
echo "        - Screenshot â†’ Web/settings_01.png"
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
read -p "ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Enter ÐºÐ¾Ð³Ð´Ð° Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚Ðµ Ñ Web Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼..."
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 5. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð°Ð»Ð¸Ñ‡Ð¸Ñ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[5/8]${NC} ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²..."

IOS_COUNT=$(find "$SCREENSHOTS_DIR/iOS" -name "*.png" 2>/dev/null | wc -l | tr -d ' ')
WEB_COUNT=$(find "$SCREENSHOTS_DIR/Web" -name "*.png" 2>/dev/null | wc -l | tr -d ' ')

echo -e "  iOS: ${GREEN}$IOS_COUNT${NC} ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²"
echo -e "  Web: ${GREEN}$WEB_COUNT${NC} ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²"

if [ "$IOS_COUNT" -lt 7 ] || [ "$WEB_COUNT" -lt 7 ]; then
    echo -e "  ${YELLOW}âš ï¸${NC}  ÐÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð² (Ð¾Ð¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 7 + 7)"
    echo -e "  ${YELLOW}âš ï¸${NC}  ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¸Ð»Ð¸ Ð²ÐµÑ€Ð½Ð¸Ñ‚ÐµÑÑŒ Ð½Ð°Ð·Ð°Ð´"
fi

echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 6. Ð—Ð°Ð¿ÑƒÑÐº UI Ñ‚ÐµÑÑ‚Ð¾Ð² (ÐµÑÐ»Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½ xcodebuild)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[6/8]${NC} Ð—Ð°Ð¿ÑƒÑÐº UI Ñ‚ÐµÑÑ‚Ð¾Ð²..."

if [ "$XCODE_CLI" = true ]; then
    echo -e "  ${YELLOW}â³${NC} Ð—Ð°Ð¿ÑƒÑÐº xcodebuild test..."
    
    xcodebuild test \
        -project "$XCODE_PROJECT" \
        -scheme "sleep course" \
        -destination 'platform=iOS Simulator,name=iPhone 15' \
        -only-testing:sleep_courseUITests/SleepCourseUITests \
        2>&1 | tee "$PROJECT_DIR/test_results.log"
    
    if [ ${PIPESTATUS[0]} -eq 0 ]; then
        echo -e "  ${GREEN}âœ…${NC} Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹"
    else
        echo -e "  ${RED}âŒ${NC} Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ñ€Ð¾Ð²Ð°Ð»ÐµÐ½Ñ‹ (ÑÐ¼. test_results.log)"
    fi
else
    echo -e "  ${YELLOW}â³${NC} Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ñ‚ÐµÑÑ‚Ñ‹ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ Ð² Xcode: âŒ˜U"
    read -p "ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Enter ÐºÐ¾Ð³Ð´Ð° Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚Ðµ..."
fi

echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 7. Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ð¸
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[7/8]${NC} Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð° Ð¾ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ð¸..."

REPORT_FILE="$PROJECT_DIR/TEST_RESULTS_$(date +%Y%m%d_%H%M%S).md"

cat > "$REPORT_FILE" << 'EOFR'
# ðŸ“Š Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Sleep Course

**Ð”Ð°Ñ‚Ð°**: $(date +"%d.%m.%Y %H:%M")

---

## âœ… Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð½Ñ‹Ðµ ÑˆÐ°Ð³Ð¸

- [x] iOS Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ Ð² ÑÐ¸Ð¼ÑƒÐ»ÑÑ‚Ð¾Ñ€Ðµ
- [x] Odoo Ð²ÐµÐ± Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ Ð² Chrome Mobile view
- [x] Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹ iOS ÑÐ´ÐµÐ»Ð°Ð½Ñ‹
- [x] Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹ Web ÑÐ´ÐµÐ»Ð°Ð½Ñ‹
- [x] UI Ñ‚ÐµÑÑ‚Ñ‹ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ñ‹

---

## ðŸ“¸ Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹

### iOS
EOFR

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº iOS ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²
for file in "$SCREENSHOTS_DIR/iOS"/*.png; do
    if [ -f "$file" ]; then
        basename_file=$(basename "$file")
        echo "- âœ… $basename_file" >> "$REPORT_FILE"
    fi
done

cat >> "$REPORT_FILE" << 'EOFR'

### Web
EOFR

# Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº Web ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð¾Ð²
for file in "$SCREENSHOTS_DIR/Web"/*.png; do
    if [ -f "$file" ]; then
        basename_file=$(basename "$file")
        echo "- âœ… $basename_file" >> "$REPORT_FILE"
    fi
done

cat >> "$REPORT_FILE" << 'EOFR'

---

## ðŸ§ª UI Ð¢ÐµÑÑ‚Ñ‹

Ð¡Ð¼. `test_results.log` Ð´Ð»Ñ Ð´ÐµÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ñ… Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð².

---

## ðŸ“ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑˆÐ°Ð³Ð¸

1. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ `TESTING_PLAN.md` Ð¸ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹
2. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ `COMPARISON_REPORT.md` Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ
3. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Digital Color Meter Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ RGB Ð³Ñ€Ð°Ð´Ð¸ÐµÐ½Ñ‚Ð¾Ð²
4. Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ side-by-side ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ Ð² Preview

---

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ**: â³ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ manual review
EOFR

echo -e "  ${GREEN}âœ…${NC} ÐžÑ‚Ñ‡Ñ‘Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½: $(basename "$REPORT_FILE")"
echo ""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 8. Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo -e "${YELLOW}[8/8]${NC} Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ ÑˆÐ°Ð³Ð¸..."
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo -e "${BLUE}  âœ… Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð• Ð—ÐÐ’Ð•Ð Ð¨Ð•ÐÐž!${NC}"
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""
echo "  ðŸ“‚ Ð¡ÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ñ‹ Ð²:"
echo "     $SCREENSHOTS_DIR"
echo ""
echo "  ðŸ“Š ÐžÑ‚Ñ‡Ñ‘Ñ‚ ÑÐ¾Ð·Ð´Ð°Ð½:"
echo "     $(basename "$REPORT_FILE")"
echo ""
echo "  ðŸ“‹ Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ:"
echo "     1. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ TESTING_PLAN.md"
echo "     2. Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð²"
echo "     3. Ð¡Ñ€Ð°Ð²Ð½Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ñ‹ (side-by-side)"
echo "     4. ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ COMPARISON_REPORT.md"
echo "     5. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ñ‚Ð¾Ð³Ð¸ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ"
echo ""
echo -e "${GREEN}  ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ñ Ð²ÑÐµÑ… Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²:${NC}"
echo "     cd \"$PROJECT_DIR\""
echo "     open TESTING_PLAN.md COMPARISON_REPORT.md \"$REPORT_FILE\""
echo ""
echo -e "${BLUE}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
echo ""

# ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿Ð°Ð¿ÐºÑƒ ÑÐ¾ ÑÐºÑ€Ð¸Ð½ÑˆÐ¾Ñ‚Ð°Ð¼Ð¸
open "$SCREENSHOTS_DIR"

echo -e "${GREEN}âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!${NC}"

